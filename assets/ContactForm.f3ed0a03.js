import{_ as p,r as g,w as x,c as h,e as y,f as S,h as e,t as r,x as V,j as n,y as i,A as C}from"./index.45b4ffe3.js";const N={class:"contact-form"},R={class:"form-card"},U={class:"contact-form__group"},w=["disabled"],B={class:"contact-form__group"},E=["disabled"],F={class:"contact-form__group"},k=["disabled"],A={class:"contact-form__group"},P=["disabled"],T={class:"contact-form__group"},j=["disabled"],D={class:"contact-form__group"},M=["disabled"],$={class:"contact-form__actions"},I=["disabled"],O=["disabled"],q={__name:"ContactForm",props:{contact:{type:Object,default:()=>({id:null,name:"",relation:"",phone:"",email:"",address:"",note:""})},isSubmitting:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(a,{emit:u}){const d=a,c=u,o=g({...d.contact});x(()=>d.contact,s=>{o.value={...s}});const m=h(()=>o.value.id?"\u7F16\u8F91\u8054\u7CFB\u4EBA":"\u6DFB\u52A0\u8054\u7CFB\u4EBA"),b=()=>{if(!o.value.name||!o.value.relation){alert("\u8BF7\u586B\u5199\u59D3\u540D\u548C\u5173\u7CFB");return}if(o.value.email&&!v(o.value.email)){alert("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1\u683C\u5F0F");return}if(o.value.phone&&!_(o.value.phone)){alert("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u7535\u8BDD\u683C\u5F0F");return}c("submit",{...o.value})},f=()=>{c("cancel")},v=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),_=s=>/^1[3-9]\d{9}$/.test(s);return(s,t)=>(y(),S("div",N,[e("div",R,[e("h3",null,r(m.value),1),e("form",{onSubmit:V(b,["prevent"])},[e("div",U,[t[6]||(t[6]=e("label",{class:"contact-form__label",for:"contactName"},"\u59D3\u540D *",-1)),n(e("input",{id:"contactName","onUpdate:modelValue":t[0]||(t[0]=l=>o.value.name=l),type:"text",placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA\u59D3\u540D",disabled:a.isSubmitting,class:"form-control"},null,8,w),[[i,o.value.name]])]),e("div",B,[t[7]||(t[7]=e("label",{class:"contact-form__label",for:"contactRelation"},"\u5173\u7CFB *",-1)),n(e("input",{id:"contactRelation","onUpdate:modelValue":t[1]||(t[1]=l=>o.value.relation=l),type:"text",placeholder:"\u8BF7\u8F93\u5165\u4E0E\u8054\u7CFB\u4EBA\u7684\u5173\u7CFB\uFF0C\u5982\uFF1A\u670B\u53CB\u3001\u540C\u4E8B\u7B49",disabled:a.isSubmitting,class:"form-control"},null,8,E),[[i,o.value.relation]])]),e("div",F,[t[8]||(t[8]=e("label",{class:"contact-form__label",for:"contactPhone"},"\u7535\u8BDD",-1)),n(e("input",{id:"contactPhone","onUpdate:modelValue":t[2]||(t[2]=l=>o.value.phone=l),type:"tel",placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA\u7535\u8BDD",disabled:a.isSubmitting,class:"form-control"},null,8,k),[[i,o.value.phone]])]),e("div",A,[t[9]||(t[9]=e("label",{class:"contact-form__label",for:"contactEmail"},"\u90AE\u7BB1",-1)),n(e("input",{id:"contactEmail","onUpdate:modelValue":t[3]||(t[3]=l=>o.value.email=l),type:"email",placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA\u90AE\u7BB1",disabled:a.isSubmitting,class:"form-control"},null,8,P),[[i,o.value.email]])]),e("div",T,[t[10]||(t[10]=e("label",{class:"contact-form__label",for:"contactAddress"},"\u5730\u5740",-1)),n(e("input",{id:"contactAddress","onUpdate:modelValue":t[4]||(t[4]=l=>o.value.address=l),type:"text",placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA\u5730\u5740",disabled:a.isSubmitting,class:"form-control"},null,8,j),[[i,o.value.address]])]),e("div",D,[t[11]||(t[11]=e("label",{class:"contact-form__label",for:"contactNote"},"\u5907\u6CE8",-1)),n(e("textarea",{id:"contactNote",class:"contact-form__textarea","onUpdate:modelValue":t[5]||(t[5]=l=>o.value.note=l),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",disabled:a.isSubmitting},null,8,M),[[i,o.value.note]])]),e("div",$,[e("button",{type:"submit",class:"btn btn-primary",disabled:a.isSubmitting},r(a.isSubmitting?"\u63D0\u4EA4\u4E2D...":"\u63D0\u4EA4"),9,I),e("button",{type:"button",class:"btn btn-secondary",onClick:f,disabled:a.isSubmitting},t[12]||(t[12]=[e("i",{class:"icon-close"},null,-1),C(" \u53D6\u6D88 ",-1)]),8,O)])],32)])]))}};var G=p(q,[["__scopeId","data-v-4b3b9deb"],["__file","ContactForm.vue"]]);export{G as default};
